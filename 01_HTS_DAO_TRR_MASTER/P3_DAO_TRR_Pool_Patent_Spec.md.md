상기 NFT 배지 발급 모듈은:

(a) 공급자가 3개 이상의 프로젝트에 성공적으로 투자하고, 손실 경험이 없으며, 락업 기간을 100% 준수한 경우;

(b) 공급자의 NFT 배지를 현재 등급에서 한 단계 상위 등급으로 업그레이드하는 제안을 DAO에 자동 제출;

(c) DAO 투표 없이 자동 승인되며, 기존 NFT를 소각하고 새로운 등급의 NFT를 발급;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 13 (종속항 - DAO 파라미터 변경)

[044] 청구항 1에 있어서,

10,000개 이상의 DAO 토큰을 보유한 계정이:

(a) 각 위험 등급별 APY, 최소 락업 기간, 최대 공급 금액 중 하나의 파라미터 변경을 제안;

(b) 14일간의 투표 기간을 거쳐 67% 이상 찬성 시 파라미터를 변경;

(c) 변경된 파라미터는 변경 시점 이후 승인된 프로젝트부터 적용;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 14 (독립항 - 방법)

[045] 블록체인 네트워크에 배포된 스마트 컨트랙트를 사용하여 DAO 거버넌스 기반 무역금융 풀을 자동 운영하고 TRR-Pay 소비자 결제를 통합하는 방법에 있어서,

(a) 유동성 공급자의 KYC 인증 완료 후, 위험 선호도 설문을 기반으로 AAA부터 CCC까지의 위험 등급 NFT 배지를 발급하는 단계;

(b) 차입자가 무역금융 프로젝트를 제안하면, DAO 토큰 보유자들의 투표를 통해 프로젝트 승인 여부와 위험 등급을 결정하는 단계;

(c) 승인된 프로젝트에 대해 독립된 유동성 풀을 생성하고, 공급자가 자신의 NFT 배지 등급에 해당하는 프로젝트에만 자금을 공급할 수 있도록 검증하는 단계;

(d) 공급자가 제공한 자금을 최소 락업 기간 동안 출금할 수 없도록 스마트 컨트랙트로 제한하고, 조기 출금 시 3% 패널티를 부과하는 단계;

(e) 프로젝트 완료 시 차입자가 상환한 원금과 이자를 공급자의 지분 비율에 따라 자동 분배하는 단계;

(f) 선적 지연, 담보 가치 하락, 차입자 파산 중 하나 발생 시 DAO 투표를 통해 청산을 결정하고, 담보 자산 매각 금액을 공급자에게 분배하는 단계;

(g) TRR Wallet을 통해 사용자가 QR·카드·지갑으로 가맹점 결제를 요청하고, DMHB DLT가 <10초 내 검증 후 Labuan Bank가 정산을 실행하는 단계;

(h) DAO 결의에 따라 TRR-Pay Reward Pool에서 복지·무역·ESG 수혜자에게 BLXWT/TRR-X를 자동 지급하고, 수혜자가 복지몰·가맹점에서 즉시 사용하는 단계;

(i) 모든 거래·리워드·정산 기록을 블록체인에 저장하고, EY 감사인이 실시간 접근하여 ADGM FSRA, Labuan FSA, K-SURE 규제 보고를 자동 생성하는 단계;

를 포함하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

### 청구항 15 (종속항 - 선적 확인 자동화)

[046] 청구항 14에 있어서,

(c) 단계와 (e) 단계 사이에:

(c-1) 차입자가 선하증권(B/L)을 NFT로 토큰화하여 담보로 등록하는 단계;

(c-2) 선사가 Chainlink 오라클을 통해 선적 완료 정보를 온체인으로 전송하는 단계;

(c-3) 스마트 컨트랙트가 선적 완료를 검증하고, 프로젝트 상태를 "선적 중(Shipped)"으로 업데이트하는 단계;

(c-4) 화물 도착 시 선사가 도착 확인 정보를 전송하고, 스마트 컨트랙트가 B/L NFT를 소각하는 단계;

를 추가로 포함하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

### 청구항 16 (종속항 - Compound 대비 차별점)

[047] 청구항 14에 있어서,

(c) 단계에서:

Compound 프로토콜의 단일 풀 구조와 달리, 본 발명은 각 무역금융 프로젝트마다 독립된 풀을 생성하고, 공급자가 프로젝트를 선택하여 자금을 공급하며, 프로젝트별 위험 등급에 따라 차등화된 APY를 적용하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

### 청구항 17 (종속항 - 다중 서명 보안)

[048] 청구항 14에 있어서,

(e) 단계에서:

차입자가 원금과 이자를 상환할 때, DAO에서 선출된 3명의 서명자(Multi-sig Signers) 중 2명 이상의 승인을 받아야 상환 트랜잭션이 실행되며, 이를 통해 부정 상환을 방지하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

### 청구항 18 (종속항 - TRR-Pay 실시간 정산)

[049] 청구항 14에 있어서,

(g) 단계에서:

사용자가 TRR Wallet으로 가맹점 QR 코드를 스캔하면:

(g-1) 결제 금액이 BLXWT로 환산되고, 사용자가 결제를 승인;

(g-2) Smart Contract가 사용자 지갑에서 BLXWT를 차감하고, TRR Settlement Node로 전송;

(g-3) DMHB DLT가 거래를 평균 8초 내 검증(KYC/AML 포함);

(g-4) Labuan Bank가 가맹점 선택에 따라 BLXWT 보유 / 현지통화 환전(0.1% 수수료) / TRR-X 전환 중 하나를 실행;

(g-5) 거래 완료 알림이 사용자 및 가맹점에게 푸시 전송;

순서로 처리되는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

### 청구항 19 (종속항 - 리워드 순환 구조)

[050] 청구항 14에 있어서,

(h) 단계에서:

무역금융 수익의 일부(거래 수수료 20%)가 TRR-Pay Reward Pool에 적립되고 → DAO 투표로 복지 수혜자에게 BLXWT 지급 → 수혜자가 복지몰·가맹점에서 사용 → 가맹점 매출이 무역금융 차입 수요로 연결되어, B2B 무역금융과 B2C 소비자 결제가 단일 생태계에서 순환하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

### 청구항 20 (종속항 - FSRA 규제 준수 절차)

[051] 청구항 14에 있어서,

(i) 단계에서:

BLX CORE(ADGM FSRA 3C)는 금 보관(custody), BLXWT 발행, Proof of Reserve 증명만 수행하고, 실제 결제 실행(payment processing, settlement execution)은 Labuan Bank(Labuan FSA 규제)가 수행하며, 양자 간 연결을 "Data Interface beyond FSRA jurisdiction"으로만 정의하여, BLX CORE가 FSRA 규제 위반(Payment Services 제공)을 하지 않도록 법적 경계를 명확히 유지하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 방법.

---

## 【도면의 간단한 설명】

[052] **도 1**: 전체 시스템 구성도 (DAO → 프로젝트 풀 → NFT 배지 → TRR-Pay → 규제 준수)  
[053] **도 2**: NFT 배지 등급별 파라미터 비교 (AAA~CCC 리스크-리턴 곡선)  
[054] **도 3**: DAO 투표 프로세스 흐름도 (제안 → 투표 → 승인 → 풀 생성)  
[055] **도 4**: 프로젝트별 풀 생성 및 자금 공급 흐름 (공급자별 지분 관리)  
[056] **도 5**: 선적서류 NFT 담보 검증 프로세스 (B/L 발행 → 민팅 → 선적 → 도착)  
[057] **도 6**: 수익 분배 알고리즘 상세 (지분 비율 계산 → 자동 송금)  
[058] **도 7**: 청산 프로세스 및 담보 매각 우선순위 (DAO 투표 → 담보 매각 → 회수액 분배)  
[059] **도 8**: TRR-Pay 결제 프로세스 상세 (QR 스캔 → DMHB DLT 검증 → Labuan Bank 정산)  
[060] **도 9**: 리워드 자동 분배 메커니즘 (Reward Pool → DAO 결의 → 수혜자 지급)  
[061] **도 10**: FSRA 규제 준수 구조도 (BLX CORE vs Labuan Bank vs DMHB DLT 법적 경계)

---

## 【도면】

### 도 1: 전체 시스템 구성도

```
┌──────────────────────────────────────────────────────────┐
│           DAO Governance Layer                           │
│         (BLXWT Token Holders Vote on Everything)         │
│  - Project Approval (67% threshold)                      │
│  - Risk Grade Assignment (AAA ~ CCC)                     │
│  - Parameter Changes (APY, Lockup, Limits)              │
│  - Liquidation Decisions                                 │
│  - TRR-Pay Reward Distribution Decisions                 │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│         Project Pool Manager Contract                    │
│  - Creates isolated pool for each trade project         │
│  - Stores: borrower, amount, duration, collateral       │
│  - Tracks: current supply, supplier shares              │
└────────────────────┬─────────────────────────────────────┘
                     │
        ┌────────────┴────────────┐
        │                         │
        ▼                         ▼
┌──────────────────┐  ┌──────────────────┐
│  NFT Badge       │  │ Shipping Doc     │
│  System          │  │ NFT System       │
│  (AAA~CCC)       │  │ (B/L, L/C)       │
└──────┬───────────┘  └──────┬───────────┘
       │                     │
       └─────────┬───────────┘
                 │
                 ▼
┌──────────────────────────────────────────────────────────┐
│           Yield Distribution Engine                      │
│  - Calculates each supplier's share                     │
│  - Distributes (principal + yield) proportionally       │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│         TRR-Pay Consumer Settlement Layer                │
│  - TRR Wallet (Mobile UX)                                │
│  - TRR-Card (Visa/Master)                                │
│  - TRR Settlement Node (DMHB DLT + Labuan Bank)          │
│  - Reward Pool (DAO Auto-distribution)                   │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│       Regulatory Compliance Layer                        │
│  BLX CORE (FSRA 3C): Custody + Reserve Monitoring       │
│  Labuan Bank: Payment Execution (beyond FSRA)           │
│  DMHB DLT: Blockchain Infrastructure                     │
└──────────────────────────────────────────────────────────┘
```

### 도 8: TRR-Pay 결제 프로세스 상세

```
┌──────────────────────────────────────────────────────────┐
│ Step 1: 사용자 결제 요청                                  │
│                                                           │
│  사용자 → TRR Wallet 앱 실행 → 가맹점 QR 스캔            │
│  QR 정보: 가맹점 ID, 금액($500), 거래 ID                 │
│                                                           │
│  결제 승인 화면:                                          │
│    가맹점: 복지몰 강남점                                  │
│    금액: $500 (BLXWT 8.33개)                             │
│    잔액: 10개 → 1.67개                                   │
│    [결제하기] [취소]                                      │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│ Step 2: Smart Contract 실행                              │
│                                                           │
│  payToMerchant(customer, merchant, amount)               │
│    - 고객 지갑에서 BLXWT 8.33개 차감                     │
│    - TRR Settlement Node로 전송 (검증 대기)              │
│    - 상태: Pending                                        │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│ Step 3: DMHB DLT 검증 (평균 8초)                         │
│                                                           │
│  validateSettlement(txId)                                │
│    - KYC/AML 자동 확인 (Labuan Bank 연동)               │
│    - 거래 패턴 분석 (자금세탁 방지)                      │
│    - 가맹점 유효성 확인                                   │
│    - 상태: Validated ✅                                  │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│ Step 4: Labuan Bank 정산 (FSRA 관할 외부)                │
│                                                           │
│  settlementToMerchant(txId)                              │
│    가맹점 선택에 따라:                                    │
│                                                           │
│    옵션 A: BLXWT 보유 (금 자산 유지)                     │
│      → blxwtToken.transfer(merchant, 8.33개)            │
│                                                           │
│    옵션 B: KRW 환전 (0.1% 수수료)                        │
│      → convertBLXWTtoKRW(8.33개) = 600,000원            │
│      → 수수료 600원 차감                                  │
│      → 가맹점 계좌에 599,400원 입금                       │
│                                                           │
│    옵션 C: TRR-X 전환 (무역 결제 재사용)                 │
│      → convertBLXWTtoTRRX(8.33개) = TRR-X 500개         │
│                                                           │
│    상태: Completed ✅                                    │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│ Step 5: 사용자 및 가맹점 알림                             │
│                                                           │
│  사용자 앱:                                               │
│    "복지몰 강남점 $500 결제 완료"                         │
│    "잔액: BLXWT 1.67개 ($100)"                           │
│    거래 해시: 0x1234...abcd                              │
│                                                           │
│  가맹점 POS:                                              │
│    "결제 승인 완료"                                       │
│    "입금 예정: 599,400원 (KRW)"                          │
│    처리 시간: 8초                                         │
│                                                           │
│  블록체인 기록:                                           │
│    - 모든 거래 내역 온체인 저장                           │
│    - EY 감사 실시간 접근 가능                            │
│    - FSRA/Labuan FSA 자동 보고                           │
└──────────────────────────────────────────────────────────┘
```

### 도 10: FSRA 규제 준수 구조도

```
┌──────────────────────────────────────────────────────────┐
│ BLX CORE Ltd. (ADGM, FSRA Category 3C)                  │
├──────────────────────────────────────────────────────────┤
│ 허용 활동 (FSRA 관할 내):                                 │
│  ✅ Managing Assets (금 보관)                            │
│  ✅ Custody (BLXWT 발행)                                 │
│  ✅ Reserve Monitoring (Proof of Reserve)                │
│                                                           │
│ 금지 활동 (FSRA 규제 위반):                               │
│  ❌ Payment Services                                     │
│  ❌ Settlement Execution                                 │
│  ❌ Money Transmission                                   │
│                                                           │
│ BLXWT 정의:                                               │
│  "Non-redeemable, LBMA gold-backed virtual asset         │
│   (commodity-linked, not fiat-referenced)"               │
│                                                           │
│ AML/CFT 준수:                                             │
│  "All gold reserves sourced exclusively from             │
│   LBMA-accredited refineries"                            │
└──────────────────────────────────────────────────────────┘
                     ▼
        (Data Interface Only - No Payment Execution)
                     ▼
┌──────────────────────────────────────────────────────────┐
│ Labuan Bank (Malaysia, Labuan FSA 관할)                  │
├──────────────────────────────────────────────────────────┤
│ 실제 실행 활동:                                           │
│  ✅ TRR-Pay Backend (White-label)                        │
│  ✅ Payment Processing                                   │
│  ✅ Settlement Execution                                 │
│  ✅ KYC/AML Verification                                 │
│  ✅ 규제 보고 (Bank Negara Malaysia)                     │
│                                                           │
│ BLX CORE와의 관계:                                        │
│  "Operational Integration beyond FSRA jurisdiction"      │
└──────────────────────────────────────────────────────────┘
                     ▼
        (Blockchain Infrastructure)
                     ▼
┌──────────────────────────────────────────────────────────┐
│ DMHB DLT Foundation (비규제 기술 레이어)                  │
├──────────────────────────────────────────────────────────┤
│ 기술 제공:                                                │
│  ✅ Blockchain Infrastructure                            │
│  ✅ Smart Contract Execution                             │
│  ✅ Transaction Validation                               │
│  ✅ Oracle Integration (Chainlink)                       │
└──────────────────────────────────────────────────────────┘
```

---

## 【산업상 이용 가능성】

[062] 본 발명은 다음과 같이 활용될 수 있다:

### A. 무역금융 시장

**1. 중소기업 수출 금융**
- 기존 은행 대출을 받기 어려운 중소 수출기업이 TRR Pool을 통해 자금을 조달할 수 있다.
- 예: 베트남 의류 수출업체가 $50,000을 90일간 차입 (APY 7%)

**2. 글로벌 공급망 금융**
- 다국적 기업의 공급망 내 하위 협력업체가 선적 전 자금을 확보할 수 있다.
- 예: 삼성전자 협력업체가 부품 구매 자금 $1M 차입

**3. 기관 투자자 대체 투자 상품**
- 보험사, 연기금 등이 무역금융 프로젝트에 분산 투자하여 안정적 수익 확보.
- 예: 국민연금이 AAA 등급 프로젝트에 $10M 공급 (APY 3%)

### B. 소비자 결제 시장

**4. 글로벌 여행자 결제**
- 단일 TRR Wallet으로 전 세계 가맹점에서 결제, 국가별 신용카드/현금 불필요
- 예: 한국→UAE→싱가포르 여행 중 모든 결제를 BLXWT로 처리

**5. 국제 송금 (해외 근로자)**
- 기존 SWIFT 대비 수수료 97% 절감 (<1시간 처리)
- 예: 한국 근로자가 필리핀 가족에게 매월 $500 송금 (수수료 $1)

**6. 복지 리워드 지급**
- 정부/기업이 복지 혜택을 BLXWT로 지급, 수혜자가 복지몰·가맹점에서 사용
- 예: DAO가 1,000명에게 각 BLXWT 10개 ($600) 자동 지급

### C. ESG 및 사회공헌

**7. ESG 활동 인센티브**
- 탄소배출권 구매, 재생에너지 인증, 거버넌스 투표 참여 시 자동 리워드
- 예: Bob이 탄소배출권 $1,000 구매 + 투표 5회 → BLXWT 50개 ($3,000) 수령

**8. 순환 경제 생태계**
- B2B 무역 수익 → B2C 리워드 → 가맹점 매출 → 무역 수요 증가의 선순환 구조

[063] 본 발명은 블록체인 기반 무역금융 플랫폼으로 구현되어, 전 세계 수출입 기업과 투자자를 연결하고, 소비자 결제까지 통합하는 탈중앙화 금융(DeFi) 생태계를 형성할 수 있다.

---

**【문서 끝】**

---

## 부록: 업데이트 요약 (v2.0)

### 주요 변경 사항

**1. TRR-Pay Consumer Settlement Layer 통합 (3차 FACT SHEET 반영)**
- B2B 무역금융에서 B2C 소비자 결제로 확장
- 4가지 결제 모델 추가 (TRR-Pay, TRR-Card, BLXWT-Pay, TRR-Remit)
- 리워드 자동 분배 메커니즘 통합 (Welfare, Trade, ESG)
- 네이버페이급 UX + 금 담보 안정성 동시 구현

**2. FSRA 규제 준수 언어 정확화 (Compliance Work Order 반영)**
- BLXWT를 "비환매형(non-redeemable), LBMA 금 담보 가상자산"으로 명시
- "Payment Services", "Settlement Execution" 용어 사용 금지
- "Managing Assets", "Custody", "Reserve Monitoring"으로 대체
- BLX CORE와 Labuan Bank/DMHB DLT 간 법적 경계 명확화

**3. AML/CFT 추적성 강화**
- 모든 금 보유고가 "LBMA-accredited refineries"에서 독점 조달
- "ADGM Virtual Asset AML Guidance 2025" 기준 준수 명시
- 온체인 검증 및 자동 보고 메커니즘 추가

**4. 실시예 확장**
- 실시예 4: TRR-Pay 국제 송금 (SWIFT 대비 97% 비용 절감)
- 실시예 5: 글로벌 가맹점 네트워크 (한국→UAE→싱가포르)
- 무역금융 수익과 소비자 결제의 순환 구조 명확화

**5. 청구항 추가 (총 20개)**
- 청구항 2: TRR-Pay 4가지 결제 모델
- 청구항 3: 리워드 자동 분배 (Welfare, Trade, ESG)
- 청구항 4: FSRA 규제 준수 언어
- 청구항 18: TRR-Pay 실시간 정산 프로세스
- 청구항 19: 무역-소비 순환 구조
- 청구항 20: FSRA 규제 준수 절차

### 규제 준수 체크리스트 (FSRA 2025 Framework)

| 항목 | 기존 (v1.0) | 업데이트 (v2.0) | 상태 |
|------|------------|----------------|------|
| **BLXWT 정의** | 모호함 | Non-redeemable, commodity-linked | ✅ 명확 |
| **금 출처** | 미명시 | LBMA-accredited refineries only | ✅ 명시 |
| **결제 실행 주체** | 불명확 | Labuan Bank (FSRA 관할 외) | ✅ 분리 |
| **BLX CORE 역할** | 광범위 | Custody + Reserve Monitoring만 | ✅ 제한 |
| **용어 사용** | Payment Services | Managing Assets | ✅ 준수 |
| **연결 표현** | 통합 시스템 | Data Interface Only | ✅ 준수 |

### 기술적 혁신 포인트

**1. 프로젝트별 분리 풀 (vs Compound 단일 풀)**
```solidity
// Compound: 모든 자산이 하나의 풀에
function supply(address asset, uint256 amount) external {
    pool.deposit(asset, amount, msg.sender, 0);
    // 공급자는 어디에 대출되는지 모름
}

// TRR Pool: 프로젝트별 독립 풀
function supplyToProject(uint256 projectId, uint256 amount) external {
    require(projects[projectId].daoApproved, "Not approved");
    require(projects[projectId].riskGrade <= msg.sender.nftBadge.maxRisk);
    projects[projectId].pool += amount;
    // 공급자가 프로젝트 선택
}
```

**2. NFT 배지 기반 위험 등급**
- 온체인 검증: 공급자의 위험 감수 능력이 NFT에 기록
- 차등 수익: AAA 3% ~ CCC 15% (위험-수익 트레이드오프 명확화)
- 자동 업그레이드: 3개 프로젝트 성공 시 등급 상승

**3. 선적서류 NFT 담보**
- B/L, L/C를 NFT로 토큰화 → 온체인 담보 검증
- Chainlink Oracle로 선적·도착 자동 확인
- 물리적 서류와 디지털 자산 연동

**4. TRR-Pay 통합 (무역-소비 순환)**
```
B2B 무역금융 수익
    ↓
TRR-Pay Reward Pool (20%)
    ↓
복지·무역·ESG 리워드 자동 지급
    ↓
복지몰·가맹점 결제 사용
    ↓
가맹점 매출 증가 → 무역 수요 증가
    ↓
(순환 반복)
```

### 시장 차별화 분석

| 구분 | Compound | Aave | TRR Pool + TRR-Pay |
|------|----------|------|-------------------|
| **시장** | 암호화폐 대출 | 암호화폐 대출 | 무역금융 + 소비자 결제 |
| **담보** | ETH, WBTC | 다양한 암호화폐 | B/L, L/C, 금(BLXWT) |
| **위험 관리** | 획일적 | 획일적 | NFT 배지 5단계 |
| **수익 구조** | 단일 APY | 단일 APY | 차등 APY (3%~15%) |
| **프로젝트 선택** | 불가 | 불가 | 가능 (공급자 선택권) |
| **결제 통합** | 없음 | 없음 | TRR-Pay 4가지 모델 |
| **리워드** | 없음 | 일부 | DAO 자동 분배 |
| **실물 연계** | 없음 | 없음 | 선적서류 NFT |
| **규제 준수** | 미국 | 유럽 | FSRA/Labuan FSA |

### 지적재산권 보호 전략

**1. 핵심 특허 포인트**
- NFT 배지 기반 위험 등급 시스템 (청구항 1-b, 5, 12)
- 프로젝트별 분리 풀 구조 (청구항 1-a, 16)
- 선적서류 NFT 담보 검증 (청구항 1-g, 4, 7, 15)
- TRR-Pay 통합 결제 레이어 (청구항 1-h~l, 2, 18, 19)
- FSRA 규제 준수 구조 (청구항 1-m~o, 4, 20)

**2. 선행기술 대비 진보성**
- Compound/Aave: 단일 풀, 획일적 위험 → **TRR: 프로젝트별 풀, 차등 위험**
- 기존 PG사: 높은 수수료(2.5-3.5%) → **TRR-Pay: 0.1-0.5% (90% 절감)**
- 네이버페이: 국내 한정, 담보 없음 → **TRR-Pay: 글로벌, 금 담보**
- SWIFT: 3-5일, 5% 수수료 → **TRR-Remit: <1시간, 0.2% (97% 절감)**

**3. 회피 설계 어려움**
- NFT 배지 → 대체 기술 없음 (위험 등급 온체인 기록 유일)
- 선적서류 NFT → 무역금융 필수 (물리적 서류 디지털화 표준)
- TRR-Pay 순환 구조 → 무역-소비 통합 생태계 (경쟁자 모방 어려움)

### 사업화 로드맵 (특허 출원 후)

**Phase 1 (2026 Q1-Q2): MVP 출시**
- TRR Pool Beta (AAA 등급 프로젝트 10개)
- TRR Wallet 앱 출시 (한국, UAE)
- 파일럿 가맹점 100개 확보

**Phase 2 (2026 Q3-Q4): 규제 승인**
- FSRA Category 3C 최종 승인
- Labuan Bank TRR-Pay White-label 계약
- TRR-Card Visa/Master API 통합

**Phase 3 (2027): 글로벌 확장**
- EU MiCA 라이선스 신청 (아일랜드 SPV)
- Singapore MAS Payment Service 라이선스
- 활성 사용자 100만 명 목표

**Phase 4 (2028-2030): 생태계 완성**
- DAO 완전 탈중앙화 (커뮤니티 거버넌스)
- CBDC 연동 (mBridge 파일럿 참여)
- 무역금융 시장 점유율 5% 달성

### 특허 출원 시 주의사항

**1. 청구항 작성 전략**
- 독립항 2개: 시스템(청구항 1), 방법(청구항 14)
- 종속항 18개: 세부 기술 및 FSRA 규제 준수
- 다중 종속항 활용: 청구항 범위 최대화

**2. 명세서 작성 전략**
- 비교 실시예: Compound/Aave와 명확한 차별화
- 실시예 5개: 다양한 사용 시나리오 (무역, 소비, 송금, ESG)
- 도면 10개: 시스템 구조 및 프로세스 상세 설명

**3. 규제 준수 문서화**
- FSRA 2025 Framework 최신 기준 반영
- 법적 경계 명확화 (BLX CORE vs Labuan Bank)
- AML/CFT 추적성 증빙

**4. 국제 출원 전략**
- PCT 국제출원 (우선권 주장)
- 주요 관할: 한국, 미국, UAE, EU, 싱가포르, 말레이시아
- 각국 규제 기준에 맞춘 청구항 조정

### 경쟁사 분석 및 대응

**잠재 경쟁사**
1. **Ripple (XRP)**: 국제 송금 특화
   - 약점: 무역금융 미지원, 담보 없음
   - TRR 우위: 선적서류 NFT 담보, 무역-소비 통합

2. **Circle (USDC)**: Stablecoin 발행
   - 약점: 법정화폐 담보, 위험 등급 없음
   - TRR 우위: 금 담보(BLXWT), NFT 배지 차등 수익

3. **Centrifuge**: 실물자산 토큰화
   - 약점: DeFi 풀 구조, 소비자 결제 미지원
   - TRR 우위: DAO 거버넌스, TRR-Pay 통합

**방어 전략**
- 특허 포트폴리오 구축 (핵심 기술 5개 특허)
- 오픈소스 전략 (비핵심 코드 공개, 생태계 확장)
- 전략적 제휴 (Visa/Master, Chainlink, EY)

---

## 【결론】

[064] 본 발명 v2.0은 다음과 같은 혁신을 달성한다:

### A. 기술적 혁신
1. **프로젝트별 분리 풀**: Compound 대비 공급자 선택권 및 위험 관리 개선
2. **NFT 배지 시스템**: 온체인 위험 등급 검증 및 차등 수익 자동화
3. **선적서류 NFT**: 물리적 무역 서류와 블록체인 담보 연동
4. **TRR-Pay 통합**: B2B 무역금융과 B2C 소비자 결제의 단일 생태계 구현

### B. 규제 준수 혁신
5. **FSRA 2025 준수**: BLX CORE(3C)는 Custody만, 결제는 Labuan Bank 분리
6. **AML/CFT 추적**: LBMA 인증 금 독점 조달 및 온체인 검증
7. **비환매형 정의**: BLXWT를 commodity-linked로 명확히 정의

### C. 시장 혁신
8. **무역-소비 순환**: 무역금융 수익 → 리워드 → 가맹점 결제 → 무역 수요 증가
9. **비용 혁명**: 기존 PG사 대비 90% 수수료 절감, SWIFT 대비 97% 절감
10. **글로벌 접근성**: 단일 지갑으로 전 세계 결제, 국경 없는 금융

### D. 사회적 가치
11. **금융 포용**: 중소기업 및 개인이 무역금융 및 저비용 결제 접근
12. **ESG 인센티브**: 탄소배출권, 재생에너지 활동 자동 리워드
13. **투명성**: 모든 거래 온체인 기록, EY 감사 실시간 접근

**본 발명은 무역금융과 소비자 결제를 블록체인으로 통합한 세계 최초의 완전 순환 생태계를 제공하며, FSRA 등 국제 규제 기준을 완벽히 준수하는 실용적이고 확장 가능한 솔루션이다.**

---

**【문서 버전 정보】**
- **v1.0** (2025-10): 초기 무역금융 풀 시스템
- **v2.0** (2025-10-22): TRR-Pay 통합 + FSRA 규제 준수 업데이트

**【작성 기준 문서】**
1. `3차_TRR-Pay_ Innovative trade payment gateway_FACT SHEET.md`
2. `해야할 일. BLX_CORE_TRR_Compliance_and_FactSheet_2025.10.22.md`
3. `P3 DAO+TRR Pool 특허 명세서 (완성본).md`

**【다음 단계】**
1. 변리사 검토 및 청구항 최적화
2. FSRA 사전 자문 (BLX CORE 라이선스 영향 확인)
3. PCT 국제출원 준비 (우선권 주장)
4. 기술 이전 계약 (Labuan Bank, Card Issuer)

---

**END OF PATENT SPECIFICATION v2.0** # DAO 거버넌스 기반 무역금융 풀 자동 운영 시스템 및 TRR-Pay 소비자 결제 통합

## Patent Specification (Korean Final Version v2.0)

**출원인:** [출원인명]  
**발명자:** [발명자명]  
**출원일:** 2025년 11월  
**문서 버전:** 2.0 (TRR-Pay 통합, FSRA 준수 업데이트)  
**최종 수정:** 2025년 10월 22일

---

## 【발명의 명칭】
DAO 거버넌스 기반 무역금융 풀 자동 운영 시스템, NFT 배지를 통한 위험 등급별 수익 분배 방법 및 TRR-Pay 소비자 결제 레이어 통합 시스템

---

## 【기술분야】
[001] 본 발명은 탈중앙화 자율 조직(Decentralized Autonomous Organization, 이하 'DAO') 거버넌스를 통해 무역금융 풀(Trade Finance Pool)의 자금 배분, 위험 관리, 수익 분배를 자동화하는 블록체인 시스템에 관한 것으로, 특히:

(a) NFT(Non-Fungible Token) 배지를 사용하여 유동성 공급자의 위험 선호도를 온체인(on-chain)에서 검증하고,

(b) 이에 따라 차등화된 수익을 분배하는 스마트 컨트랙트 아키텍처,

(c) B2B 무역금융에서 B2C/C2C 소비자 결제로 확장하는 **TRR-Pay Consumer Settlement Layer**,

(d) 금 담보 Stablecoin(BLXWT)을 활용한 실시간 결제 및 리워드 자동 분배 메커니즘

을 포함하는 통합 무역금융-소비자결제 시스템에 관한 것이다.

---

## 【발명의 배경이 되는 기술】

### 1. 기존 DeFi 유동성 풀의 한계

[002] **Compound, Aave 등 기존 DeFi 프로토콜의 구조적 문제:**

기존 프로토콜은 "단일 풀 구조"로, 공급자가 자금을 예치하면 프로토콜이 자동으로 모든 차입자에게 대출한다. 공급자는 **특정 프로젝트나 차입자를 선택할 수 없으며**, 모든 위험을 동일하게 부담한다.

```solidity
// Compound의 전형적인 구조
function supply(address asset, uint256 amount) external {
    // 공급자는 단순히 USDC를 예치만 할 뿐
    // 어떤 차입자에게 대출되는지 알 수 없음
    pool.deposit(asset, amount, msg.sender, 0);
}
```

**문제점:**
- 공급자가 위험을 선택할 수 없음
- 고위험 프로젝트와 저위험 프로젝트가 동일한 이자율
- 무역금융의 특성(선적서류, 신용장 등) 반영 불가

[003] **무역금융에서 요구되는 특수성:**

무역금융은 일반 금융과 달리 다음과 같은 특수한 요구사항이 있다:

1. **거래별 위험 평가 필요:** 수출자 신용도, 수입국 위험도, 상품 종류에 따라 위험이 천차만별
2. **선적서류 기반 담보:** B/L(Bill of Lading), L/C(Letter of Credit) 등 물리적 서류가 담보
3. **기간별 차등 수익:** 단기(30일) vs 장기(180일) 금융의 위험-수익 구조가 다름

### 2. 기존 소비자 결제 시스템의 한계

[004] **네이버페이/카카오페이 등 기존 결제 게이트웨이:**

| 구분 | 네이버페이/카카오페이 | PayPal | 암호화폐 지갑 |
|------|---------------------|--------|--------------|
| **지역** | 🇰🇷 한국만 | 🌍 글로벌 | 🌍 글로벌 |
| **담보** | ❌ 없음 (은행 신용) | ❌ 없음 | ⚠️ 변동성 높음 |
| **정산** | 2-3일 (PG사) | 1-2일 | 즉시 (but 높은 수수료) |
| **무역연계** | ❌ 불가 | ❌ 불가 | ❌ 불가 |
| **리워드** | 폐쇄형 포인트 | USD 캐시백 | 없음 |

**문제점:**
- 국제 무역 결제와 소비자 결제가 분리됨
- 리워드가 특정 생태계에 갇혀 있음 (포인트 → 현금 전환 불가)
- 담보 없는 신용 기반 → 부도 시 손실 위험

---

## 【발명이 해결하고자 하는 과제】

[005] 본 발명이 해결하고자 하는 첫 번째 과제는, 무역금융 프로젝트마다 위험도가 다름에도 불구하고 기존 DeFi 프로토콜에서는 모든 공급자가 동일한 위험을 부담하고 동일한 수익을 받는 문제를 해결하는 것이다.

[006] 본 발명이 해결하고자 하는 두 번째 과제는, NFT 배지를 사용하여 공급자의 위험 선호도를 온체인에서 검증하고, 고위험 프로젝트 공급자에게는 높은 수익을, 저위험 프로젝트 공급자에게는 낮은 수익을 자동으로 분배하는 것이다.

[007] 본 발명이 해결하고자 하는 세 번째 과제는, DAO 거버넌스를 통해 무역금융 프로젝트의 승인, 위험 등급 조정, 청산 결정 등 핵심 운영 사항을 탈중앙화하여, 특정 기관의 자의적 판단을 배제하는 것이다.

[008] **본 발명이 해결하고자 하는 네 번째 과제는, B2B 무역금융과 B2C 소비자 결제를 단일 시스템에 통합하여:**

(a) 무역 거래로 발생한 수익을 소비자 리워드로 자동 분배하고,

(b) 금 담보 Stablecoin(BLXWT)을 사용하여 네이버페이 수준의 UX + 가격 안정성을 제공하며,

(c) 국경 없는 실시간 결제를 가능하게 하는 것이다.

[009] **본 발명이 해결하고자 하는 다섯 번째 과제는, FSRA(Financial Services Regulatory Authority) 및 국제 규제 기준을 준수하면서:**

(a) BLXWT를 "비환매형(non-redeemable), LBMA 금 담보 가상자산"으로 명확히 정의하고,

(b) 모든 금 보유고가 LBMA 인증 정제소에서 조달되어 AML/CFT 추적성을 보장하며,

(c) BLX CORE(ADGM FSRA Category 3C - Managing Assets)가 금 보관 및 데이터 제공만 담당하고, 실제 결제 실행은 Labuan Bank/DMHB DLT가 담당하도록 법적 경계를 명확히 하는 것이다.

---

## 【과제의 해결 수단】

[010] 상기 과제를 해결하기 위해, 본 발명은 다음과 같은 구성을 포함하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템을 제공한다:

### A. 무역금융 레이어 (B2B Trade Finance Layer)

(a) **프로젝트별 분리 풀 구조:**  
각 무역금융 프로젝트는 독립된 스마트 컨트랙트 풀을 가지며, 공급자는 자신이 선택한 프로젝트에만 자금을 공급한다.

(b) **NFT 배지 기반 위험 등급 시스템:**  
공급자는 AAA, AA, A, BBB, CCC 중 하나의 NFT 배지를 발급받으며, 배지 등급에 따라 공급 가능한 프로젝트와 예상 수익률이 결정된다.

(c) **DAO 투표 기반 프로젝트 승인:**  
신규 프로젝트는 DAO 투표(67% 찬성)를 통해 승인되며, 위험 등급(AAA~CCC)이 할당된다.

(d) **선적서류 NFT 담보 시스템:**  
B/L, L/C 등 선적서류를 NFT로 토큰화하여 온체인 담보로 사용하며, 스마트 컨트랙트가 선적 완료를 자동 검증한다.

(e) **차등 수익 분배 알고리즘:**  
프로젝트 수익이 발생하면, 위험 등급별로 설정된 APY에 따라 공급자에게 자동 분배된다.

### B. TRR-Pay 소비자 결제 레이어 (B2C Consumer Settlement Layer)

[011] **본 발명의 핵심 혁신: 무역금융에서 소비자 결제로의 확장**

(f) **TRR-Pay 결제 인터페이스:**  
- 네이버페이 수준의 모바일 지갑 UX (QR 코드, 카드 결제)
- BLXWT(금 1g = 1 token) 기반 가격 안정성
- Visa/Master API 연동 가상/실물 카드 발급

(g) **실시간 정산 노드 (TRR Settlement Node):**  
- DMHB DLT가 거래 검증 (<10초, 99th percentile)
- Labuan Bank가 규제 내 정산·회계 처리
- 가맹점 선택 시 BLXWT ↔ 현지통화 자동 환전

(h) **DAO 리워드 자동 분배:**  
- 무역금융 수익의 일부(거래 수수료 20% + DAO 재무 배분 5%)를 TRR-Pay Reward Pool에 적립
- DAO 거버넌스 투표 → Multi-sig(5-of-7) 승인 → Smart Contract 자동 실행
- 수혜자(복지 대상자, 무역 인센티브, ESG 참여자) 지갑에 실시간 BLXWT/TRR-X 지급

(i) **4가지 결제 모델 통합:**

| 유형 | 설명 | 대상 | 결제 한도 | 수수료 |
|------|------|------|----------|--------|
| **TRR-Pay** | 소액결제·QR·지갑형 | 개인·소상공인 | $1-$1K | 0.1% |
| **TRR-Card** | Visa·Master 연동 카드 | 일반 가맹점 | $1K-$10K | 0.3% |
| **BLXWT-Pay** | 금담보결제, 프리미엄 계정 | DAO 멤버·고액 사용자 | $10K-$1M | 0.5% |
| **TRR-Remit** | 국제송금형 (B2C·C2C) | 해외 송금·무역 | $100-$100K | 0.2% |

### C. 규제 준수 레이어 (Regulatory Compliance Layer)

[012] **FSRA 및 국제 규제 준수 구조:**

(j) **BLXWT 법적 정의:**  
"BLXWT는 비환매형(non-redeemable), LBMA 금 담보 가상자산(commodity-linked virtual asset)이며, 법정화폐 연동 토큰(fiat-referenced token)이 아니므로, FSRA Category 3C 'Managing Assets' 범위에 해당하고 Payment Services 범위에 해당하지 않음."

(k) **금 출처 AML/CFT 준수:**  
"모든 금 보유고는 LBMA 인증 정제소에서 독점 조달되며, ADGM Virtual Asset AML Guidance 2025 기준에 따라 완전한 AML/CFT 추적성이 보장됨."

(l) **법적 경계 명확화:**  
- BLX CORE (ADGM FSRA 3C): 금 보관(custody) + BLXWT 발행 + Proof of Reserve 증명만 담당
- Labuan Bank: TRR-Pay 결제 처리, KYC/AML, 정산 실행 (Labuan FSA 규제)
- DMHB DLT: 블록체인 인프라 제공 (비규제 기술 레이어)
- "BLX CORE와 DMHB DLT/Labuan Bank 간 연결은 'Data Interface' 및 'Operational Integration beyond FSRA jurisdiction'으로 정의되며, BLX CORE는 결제 실행 주체가 아님."

---

## 【발명의 효과】

[013] 본 발명에 따르면 다음과 같은 효과가 있다:

### A. 무역금융 레이어 효과

1. **위험 선호도 맞춤형 투자:** 공급자가 자신의 위험 감수 능력에 맞는 프로젝트를 선택하여 자금을 공급할 수 있다.

2. **투명한 위험-수익 구조:** NFT 배지를 통해 각 공급자의 위험 등급이 온체인에 기록되어, 예상 수익률이 명확하다.

3. **탈중앙화 운영:** DAO 투표로 프로젝트 승인, 청산 결정 등이 이루어져, 특정 기관의 자의적 판단이 배제된다.

4. **무역금융 특화 설계:** 선적서류 NFT, 선적 지연 유예 기간 등 무역금융의 특수성이 반영되어 실용성이 높다.

### B. TRR-Pay 소비자 결제 효과

5. **무역-소비 결제 순환:** B2B 무역금융 수익 → TRR-Pay Reward Pool → B2C 소비자 리워드 자동 분배 → 가맹점 결제 사용 → 수익 재순환 구조 형성.

6. **네이버페이급 UX + 금 담보 안정성:** 
   - 기존 문제: 네이버페이는 편리하나 국내 한정 + 담보 없음
   - TRR-Pay 해결: 글로벌 사용 + BLXWT 금 담보 + 실시간 정산(<10초)

7. **리워드 유연성:**
   - 기존 문제: 포인트는 특정 생태계에 갇혀 현금 전환 불가
   - TRR-Pay 해결: BLXWT/TRR-X는 금·토큰·현금 전환 가능, DEX에서 즉시 매도 가능

8. **비용 절감:**
   - 기존 PG사 수수료: 2.5-3.5%
   - TRR-Pay 수수료: 0.1-0.5% (90% 절감)

### C. 규제 준수 효과

9. **FSRA 규제 위반 방지:**
   - BLX CORE는 "금 보관(custody)" 및 "자산 관리(managing assets)"만 수행
   - 실제 결제 실행은 Labuan Bank/DMHB DLT가 담당 → FSRA 관할 외부
   - "Payment", "Settlement", "Execution" 용어 사용 금지, "Reserve Monitoring", "Data Interface"로 대체

10. **AML/CFT 추적성:**
    - 모든 금 보유고가 LBMA 인증 정제소에서 조달 → 자금세탁 방지
    - 온체인 거래 기록 → EY 감사 직접 접근 가능

11. **글로벌 확장 가능성:**
    - FSRA(UAE) 승인 후 → Labuan FSA(Malaysia) → EU MiCA(아일랜드) → Singapore MAS → Korea 전자금융업 순차 진출
    - 지역별 별도 법인 설립으로 규제 리스크 분리

---

## 【발명을 실시하기 위한 구체적인 내용】

### 1. 시스템 전체 구성도

[014] 본 발명의 시스템은 다음 7개 주요 컴포넌트로 구성된다:

```
┌──────────────────────────────────────────────────────────┐
│           DAO Governance Layer                           │
│         (BLXWT Token Holders Vote on Everything)         │
│  - Project Approval (67% threshold)                      │
│  - Risk Grade Assignment (AAA ~ CCC)                     │
│  - Parameter Changes (APY, Lockup, Limits)              │
│  - Liquidation Decisions                                 │
│  - TRR-Pay Reward Distribution Decisions                 │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│         Project Pool Manager Contract                    │
│  - Creates isolated pool for each trade project         │
│  - Stores: borrower, amount, duration, collateral       │
│  - Tracks: current supply, supplier shares              │
└────────────────────┬─────────────────────────────────────┘
                     │
        ┌────────────┴────────────┐
        │                         │
        ▼                         ▼
┌──────────────────┐  ┌──────────────────┐
│  NFT Badge       │  │ Shipping Doc     │
│  System          │  │ NFT System       │
│  ┌──────────────┐│  │  ┌──────────────┐│
│  │ AAA: 3% APY  ││  │  │ B/L (Bill of ││
│  │ 30d lockup   ││  │  │ Lading)      ││
│  │ $10k max     ││  │  └──────────────┘│
│  └──────────────┘│  │  ┌──────────────┐│
│  ┌──────────────┐│  │  │ L/C (Letter  ││
│  │ CCC: 15% APY ││  │  │ of Credit)   ││
│  │ 180d lockup  ││  │  └──────────────┘│
│  │ $500k max    ││  │  + Chainlink     │
│  └──────────────┘│  │    Oracle        │
└──────┬───────────┘  └──────┬───────────┘
       │                     │
       └─────────┬───────────┘
                 │
                 ▼
┌──────────────────────────────────────────────────────────┐
│           Yield Distribution Engine                      │
│  - Calculates each supplier's share                     │
│  - Distributes (principal + yield) proportionally       │
│  - Records all distributions on-chain                   │
└────────────────────┬─────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│         TRR-Pay Consumer Settlement Layer                │
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │ TRR Wallet (Mobile App)                           │  │
│  │  - BLXWT/TRR-Stable/TRR-X 잔액 통합 표시          │  │
│  │  - QR 스캔 결제 (네이버페이 UX)                   │  │
│  │  - 송금·환전·스테이킹                             │  │
│  └────────────────────────────────────────────────────┘  │
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │ TRR-Pay Card (Visa/Master 연동)                   │  │
│  │  - Virtual Card 즉시 발급                         │  │
│  │  - Physical Card (Metal/NFC, DAO 멤버용)          │  │
│  │  - 결제 한도: 보유 BLXWT 연동 (1g = $60)          │  │
│  └────────────────────────────────────────────────────┘  │
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │ TRR Settlement Node                                │  │
│  │  - DMHB DLT: 거래 검증 (<10초)                    │  │
│  │  - Labuan Bank: 규제 내 정산·KYC/AML              │  │
│  │  - 가맹점 옵션: BLXWT 보유 / 현지통화 환전        │  │
│  └────────────────────────────────────────────────────┘  │
│                                                           │
│  ┌────────────────────────────────────────────────────┐  │
│  │ TRR-Pay Reward Pool (DAO 관리)                    │  │
│  │  - 재원: 거래수수료 20% + DAO 재무 5%             │  │
│  │  - 자동분배: DAO 투표 → Multi-sig → 수혜자 지급   │  │
│  │  - 사용처: 복지몰·가맹점·무역인센티브·ESG리워드   │  │
│  └────────────────────────────────────────────────────┘  │
└──────────────────────────────────────────────────────────┘
                     │
                     ▼
┌──────────────────────────────────────────────────────────┐
│       Regulatory Compliance Layer                        │
│                                                           │
│  BLX CORE (ADGM FSRA 3C):                                │
│    - Gold Custody (LBMA certified)                       │
│    - BLXWT Issuance (non-redeemable)                     │
│    - Proof of Reserve                                    │
│    ❌ NO Payment Execution (FSRA 준수)                   │
│                                                           │
│  Labuan Bank (Labuan FSA):                               │
│    - TRR-Pay Backend (White-label)                       │
│    - KYC/AML/Settlement Execution                        │
│    - 규제 보고 (Bank Negara Malaysia)                    │
│                                                           │
│  DMHB DLT (Non-regulated Tech Layer):                    │
│    - Blockchain Infrastructure                           │
│    - Transaction Validation                              │
└──────────────────────────────────────────────────────────┘
```

### 2. NFT 배지 시스템 상세

[015] **NFT 배지의 데이터 구조:**

```solidity
struct RiskBadge {
    string grade;              // "AAA", "AA", "A", "BBB", "CCC"
    uint256 maxSupplyPerProject; // 단일 프로젝트 최대 공급 한도
    uint256 expectedAPY;       // 예상 연 수익률 (%)
    uint256 minLockPeriod;     // 최소 락업 기간 (일)
    uint256 issuedAt;          // 발급 시각
    address holder;            // 보유자 지갑 주소
    bool isActive;             // 유효성 여부
}
```

[016] **NFT 배지 등급별 파라미터:**

| 등급 | 최대 공급액 (단일 프로젝트) | 예상 APY | 최소 락업 | 투자 가능 프로젝트 |
|------|----------------------------|----------|-----------|-------------------|
| AAA | $10,000 | 3% | 30일 | AAA 프로젝트만 |
| AA | $25,000 | 5% | 60일 | AAA, AA |
| A | $50,000 | 7% | 90일 | AAA, AA, A |
| BBB | $100,000 | 10% | 120일 | AAA ~ BBB |
| CCC | $500,000 | 15% | 180일 | 모든 프로젝트 |

### 3. TRR-Pay 결제 프로세스 상세

[017] **TRR-Pay 결제 흐름 (예시: 복지몰 구매)**

**배경:** Alice는 DAO 복지 리워드로 BLXWT 10개($600)를 받았고, 복지몰에서 $500 상품을 구매한다.

**Step 1: 리워드 수령**
```solidity
// DAO 결의 후 자동 실행
function distributeReward(address beneficiary, uint256 amount) external onlyDAO {
    require(rewardPool.balance >= amount, "Insufficient pool");
    blxwtToken.transfer(beneficiary, amount);
    emit RewardDistributed(beneficiary, amount);
}
// Alice 지갑에 BLXWT 10개 입금
```

**Step 2: 복지몰 QR 스캔**
- Alice가 TRR Wallet 앱으로 복지몰 POS 기기의 QR 코드 스캔
- QR 코드에 포함된 정보: 가맹점 ID, 금액($500), 거래 ID

**Step 3: 결제 승인 화면**
```
┌──────────────────────────┐
│ TRR-Pay 결제 확인         │
├──────────────────────────┤
│ 가맹점: 복지몰 강남점     │
│ 금액: $500 (BLXWT 8.33개)│
│ 잔액: BLXWT 10개 → 1.67개│
│                          │
│ [결제하기] [취소]        │
└──────────────────────────┘
```

**Step 4: 스마트 컨트랙트 실행**
```solidity
function payToMerchant(
    address customer,
    address merchant,
    uint256 amount
) external {
    require(blxwtToken.balanceOf(customer) >= amount, "Insufficient balance");
    
    // 고객 지갑에서 차감
    blxwtToken.transferFrom(customer, address(this), amount);
    
    // TRR Settlement Node로 전송 (DMHB DLT 검증 대기)
    pendingSettlements[txId] = Settlement({
        customer: customer,
        merchant: merchant,
        amount: amount,
        status: SettlementStatus.Pending
    });
    
    emit PaymentInitiated(txId, customer, merchant, amount);
}
```

**Step 5: DMHB DLT 검증 (8초 소요)**
```solidity
function validateSettlement(bytes32 txId) external onlyDMHBOracle {
    Settlement storage settlement = pendingSettlements[txId];
    require(settlement.status == SettlementStatus.Pending, "Invalid status");
    
    // KYC/AML 검증 (Labuan Bank 연동)
    require(kycVerified[settlement.customer], "KYC required");
    require(kycVerified[settlement.merchant], "Merchant not verified");
    
    // 정산 실행
    settlement.status = SettlementStatus.Validated;
    emit SettlementValidated(txId);
}
```

**Step 6: 가맹점 정산 (Labuan Bank)**
```solidity
function settlementToMerchant(bytes32 txId) external onlyLabuanBank {
    Settlement storage settlement = pendingSettlements[txId];
    require(settlement.status == SettlementStatus.Validated, "Not validated");
    
    // 가맹점 선택에 따라 처리
    if (merchantPreference[settlement.merchant] == Currency.BLXWT) {
        // 옵션 A: BLXWT 보유
        blxwtToken.transfer(settlement.merchant, settlement.amount);
    } else if (merchantPreference[settlement.merchant] == Currency.KRW) {
        // 옵션 B: 현지통화 환전 (0.1% 수수료)
        uint256 krwAmount = convertBLXWTtoKRW(settlement.amount);
        uint256 fee = krwAmount * 1 / 1000;
        transferKRW(settlement.merchant, krwAmount - fee);
    }
    
    settlement.status = SettlementStatus.Completed;
    emit SettlementCompleted(txId, settlement.merchant);
}
```

**Step 7: Alice 잔액 업데이트**
- TRR Wallet에 BLXWT 1.67개 ($100) 남음
- 거래 내역: "복지몰 강남점 $500 결제 완료" (블록체인 해시 포함)

**결과:**
- 처리 시간: 10초 이내 (네이버페이와 동일)
- Alice 비용: $0 (리워드로 지급받은 금액이므로 실비용 없음)
- 가맹점 수수료: 0.1% ($0.5) vs 기존 PG사 2.5-3.5% ($12.5-$17.5)

### 4. 리워드 풀 자동 분배 메커니즘

[018] **TRR-Pay Reward Pool 재원 구조:**

```
┌──────────────────────────────────────────────────────────┐
│     TRR-Pay Reward Pool (DAO Treasury 관리)              │
├──────────────────────────────────────────────────────────┤
│ 재원 구성:                                                │
│  1. TRR 거래 수수료의 20%                                 │
│     - 무역금융 이자 수익                                  │
│     - TRR-Pay 결제 수수료 (0.1-0.5%)                     │
│                                                           │
│  2. DAO 재무 배분 (분기별 5% 복지 리밋)                  │
│     - BLXWT 시가총액의 5%를 분기별 할당                   │
│                                                           │
│  3. ESG 파트너 기부금 (선택적)                            │
│     - 탄소배출권 거래 수익                                │
│     - 기업 사회공헌 기금                                  │
│                                                           │
│ 현재 잔액: $2,500,000 (BLXWT 41,667개)                   │
└──────────────────────────────────────────────────────────┘
```

[019] **리워드 분배 3가지 유형:**

**유형 1: Welfare Benefits (복지 혜택)**
```solidity
function distributeWelfareBenefit(
    address[] memory beneficiaries,
    uint256[] memory amounts
) external onlyDAO {
    require(beneficiaries.length == amounts.length, "Length mismatch");
    
    uint256 totalAmount = 0;
    for (uint256 i = 0; i < amounts.length; i++) {
        totalAmount += amounts[i];
    }
    
    require(rewardPool.balance >= totalAmount, "Insufficient pool");
    
    // DAO 투표 확인 (67% 이상 찬성)
    require(proposalApproved[msg.sender], "Not approved by DAO");
    
    // Multi-sig 승인 확인 (5-of-7)
    require(multisigApproved[msg.sender], "Multi-sig required");
    
    // 자동 지급
    for (uint256 i = 0; i < beneficiaries.length; i++) {
        blxwtToken.transfer(beneficiaries[i], amounts[i]);
        emit WelfareDistributed(beneficiaries[i], amounts[i]);
    }
}
```

**예시:** 
- 대상: BLX REWARD 수혜자 1,000명
- 금액: 각 BLXWT 10개 ($600)
- 사용처: 복지몰, 가맹점 결제

**유형 2: Trade Incentives (무역 인센티브)**
```solidity
function distributeTradeIncentive(
    address trader,
    uint256 quarterlyVolume
) external onlyDAO {
    // 조건: 분기별 거래액 $100K 이상
    require(quarterlyVolume >= 100000 * 1e6, "Minimum volume not met");
    
    // 보상 계산: 거래액의 0.5%
    uint256 rewardAmount = (quarterlyVolume * 5) / 1000;
    
    // TRR-X 토큰으로 지급 (무역 결제 재사용 가능)
    trrxToken.mint(trader, rewardAmount);
    emit TradeIncentiveDistributed(trader, rewardAmount);
}
```

**예시:**
- 대상: 한국 중소무역상인 (분기 거래액 $100K 달성)
- 보상: TRR-X $500
- 사용처: 다음 무역거래 결제 / BLXWT 전환 / 가맹점 결제

**유형 3: ESG Rewards (ESG 활동 보상)**
```solidity
function distributeESGReward(
    address participant,
    string memory activityType
) external onlyChainlinkOracle {
    // 활동 유형별 보상
    uint256 rewardAmount;
    
    if (keccak256(bytes(activityType)) == keccak256(bytes("carbon_credit"))) {
        rewardAmount = 50 * 1e18; // BLXWT 50개
    } else if (keccak256(bytes(activityType)) == keccak256(bytes("renewable_cert"))) {
        rewardAmount = 30 * 1e18; // BLXWT 30개
    } else if (keccak256(bytes(activityType)) == keccak256(bytes("governance_vote"))) {
        rewardAmount = 10 * 1e18; // BLXWT 10개
    }
    
    blxwtToken.transfer(participant, rewardAmount);
    emit ESGRewardDistributed(participant, activityType, rewardAmount);
}
```

**예시:**
- 대상: DAO 회원 (탄소배출권 구매 + 거버넌스 투표 참여)
- 보상: BLXWT 60개 ($3,600)
- 사용처: 복지몰 ESG 상품 할인 / 전기차 충전권 / 스테이킹

### 5. 프로젝트 승인 및 풀 생성 (기존 유지)

[020] **프로젝트 제안 구조:**

```solidity
struct ProjectProposal {
    string projectName;        // "삼성전자 → 베트남 수출"
    address borrower;          // 차입자 지갑 주소
    uint256 requestedAmount;   // 요청 금액 (USDT)
    uint256 duration;          // 기간 (일)
    string collateralType;     // "B/L + TRR Token"
    uint256 collateralValue;   // 담보 가치 (USD)
    string riskGrade;          // 제안된 위험 등급
    uint256 proposedAPY;       // 제안된 APY
    string shippingRoute;      // "Busan → Ho Chi Minh"
    uint256 votesFor;          // 찬성 투표
    uint256 votesAgainst;      // 반대 투표
    bool approved;             // 승인 여부
}
```

### 6. FSRA 규제 준수 설계

[021] **법적 경계 명확화:**

```
┌──────────────────────────────────────────────────────────┐
│ BLX CORE Ltd. (ADGM, FSRA Category 3C)                  │
├──────────────────────────────────────────────────────────┤
│ 허용 활동 (FSRA 관할 내):                                 │
│  ✅ Managing Assets (금 보관)                            │
│  ✅ Custody (BLXWT 발행)                                 │
│  ✅ Reserve Monitoring (Proof of Reserve)                │
│                                                           │
│ 금지 활동 (FSRA 규제 위반):                               │
│  ❌ Payment Services                                     │
│  ❌ Settlement Execution                                 │
│  ❌ Money Transmission                                   │
│                                                           │
│ BLXWT 정의:                                               │
│  "Non-redeemable, LBMA gold-backed virtual asset         │
│   (commodity-linked, not fiat-referenced)"               │
│                                                           │
│ AML/CFT 준수:                                             │
│  "All gold reserves sourced exclusively from             │
│   LBMA-accredited refineries, ensuring full              │
│   AML/CFT traceability under ADGM's 2025 VAFG"          │
└──────────────────────────────────────────────────────────┘
                     ▼
        (Data Interface Only - No Payment Execution)
                     ▼
┌──────────────────────────────────────────────────────────┐
│ Labuan Bank (Malaysia, Labuan FSA 관할)                  │
├──────────────────────────────────────────────────────────┤
│ 실제 실행 활동:                                           │
│  ✅ TRR-Pay Backend (White-label)                        │
│  ✅ Payment Processing                                   │
│  ✅ Settlement Execution                                 │
│  ✅ KYC/AML Verification                                 │
│  ✅ 규제 보고 (Bank Negara Malaysia)                     │
│                                                           │
│ BLX CORE와의 관계:                                        │
│  "Operational Integration beyond FSRA jurisdiction"      │
│  (FSRA 관할 외부에서 작동)                                │
└──────────────────────────────────────────────────────────┘
                     ▼
        (Blockchain Infrastructure)
                     ▼
┌──────────────────────────────────────────────────────────┐
│ DMHB DLT Foundation (비규제 기술 레이어)                  │
├──────────────────────────────────────────────────────────┤
│ 기술 제공:                                                │
│  ✅ Blockchain Infrastructure                            │
│  ✅ Smart Contract Execution                             │
│  ✅ Transaction Validation                               │
│  ✅ Oracle Integration (Chainlink)                       │
└──────────────────────────────────────────────────────────┘
```

[022] **FSRA 2025 Virtual Asset Framework 준수:**

| 항목 | 2024 기준 | 2025 업데이트 | BLX CORE 상태 |
|------|-----------|--------------|---------------|
| **최소 자본금** | USD 300K | USD 250K | ✅ 1.5M (600% 버퍼) |
| **PII 보험** | Full Policy | Board Attestation | ✅ 준수 |
| **IRAP 보고** | 연간 | 3C는 면제 | ✅ 간소화 |
| **유동성 버퍼** | 3개월 | 유지 | ✅ 10개월 |
| **금 출처 공개** | 신규 요구사항 | LBMA 인증 금 | ✅ 구현 완료 |
| **환매 권리** | 불명확 | 명시 금지 | ✅ Non-redeemable |

[023] **BLX CORE - TRR 연결 표현 (FSRA 준수 용어):**

❌ **사용 금지 표현:**
- "BLX CORE가 TRR-Pay 결제를 처리한다"
- "BLX CORE가 정산을 실행한다"
- "BLX CORE가 송금 서비스를 제공한다"

✅ **사용 가능 표현:**
- "BLX CORE는 TRR 프레임워크에 데이터 인터페이스로 통합된다"
- "BLX CORE는 Reserve Monitoring Framework를 제공한다"
- "실제 결제 실행은 FSRA 관할 외부(Labuan FSA)에서 이루어진다"

### 7. 선적서류 NFT 담보 검증 프로세스

[024] **B/L NFT 전체 프로세스:**

**Phase 1: B/L 발행 (오프체인)**
```
수출자 → 물품 선적 → 선사(Maersk)
                          ↓
                    B/L 서류 발급
                    - B/L #: MAEU123456789
                    - 화물: 삼성 갤럭시 10,000대
                    - 가치: $5,000,000
                    - 경로: Busan → Ho Chi Minh
```

**Phase 2: B/L NFT 민팅 (온체인)**
```solidity
function mintBillOfLadingNFT(
    string memory blNumber,
    string memory cargoDescription,
    uint256 cargoValue,
    string memory origin,
    string memory destination,
    address shipper
) external onlyVerifiedShippingCompany {
    BillOfLading memory bl = BillOfLading({
        blNumber: blNumber,
        cargoDescription: cargoDescription,
        cargoValue: cargoValue,
        origin: origin,
        destination: destination,
        shipper: shipper,
        issued: true,
        shipped: false,
        delivered: false,
        timestamp: block.timestamp
    });
    
    _mint(shipper, blNFTId++);
    billsOfLading[blNFTId] = bl;
    
    emit BLNFTMinted(blNFTId, blNumber, cargoValue);
}
```

**Phase 3: 담보 등록**
```solidity
function registerCollateral(uint256 projectId, uint256 collateralNFT) external {
    Project storage project = projects[projectId];
    require(msg.sender == project.borrower, "Not borrower");
    require(ownerOf(collateralNFT) == msg.sender, "Not NFT owner");
    
    // B/L NFT를 에스크로 컨트랙트로 전송
    transferFrom(msg.sender, address(this), collateralNFT);
    
    project.collateralNFT = collateralNFT;
    nftToProject[collateralNFT] = projectId;
    
    emit CollateralRegistered(projectId, collateralNFT);
}
```

**Phase 4: 선적 확인 (Chainlink Oracle)**
```solidity
function confirmShipment(uint256 blNFTId) external onlyChainlinkOracle {
    BillOfLading storage bl = billsOfLading[blNFTId];
    require(bl.issued, "Not issued");
    require(!bl.shipped, "Already shipped");
    
    bl.shipped = true;
    bl.shippedAt = block.timestamp;
    
    // 프로젝트 상태 업데이트
    uint256 projectId = nftToProject[blNFTId];
    projects[projectId].status = ProjectStatus.Shipped;
    
    emit ShipmentConfirmed(blNFTId, projectId);
}
```

**Phase 5: 도착 확인 (30일 후)**
```solidity
function confirmDelivery(uint256 blNFTId) external onlyChainlinkOracle {
    BillOfLading storage bl = billsOfLading[blNFTId];
    require(bl.shipped, "Not shipped");
    
    bl.delivered = true;
    bl.deliveredAt = block.timestamp;
    
    // B/L NFT 소각 (담보 가치 소멸)
    _burn(blNFTId);
    
    uint256 projectId = nftToProject[blNFTId];
    projects[projectId].status = ProjectStatus.Completed;
    
    emit DeliveryConfirmed(blNFTId, projectId);
}
```

### 8. 수익 분배 메커니즘

[025] **예시: 프로젝트 #1 완료**

**입력 데이터:**
- 프로젝트: "삼성전자 → 베트남"
- 차입액: $500,000
- 기간: 30일
- 위험 등급: AAA (APY 3%)
- 차입자 상환: $500,000 + $1,232 이자
  (계산: $500,000 × 3% × 30/365 = $1,232)

**공급자 목록:**

| 공급자 | 공급 금액 | 지분 % | 예상 수익 |
|--------|----------|--------|-----------|
| Alice | $10,000 | 2.0% | $24.64 |
| Bob | $25,000 | 5.0% | $61.60 |
| Carol | $50,000 | 10.0% | $123.20 |
| David | $100,000 | 20.0% | $246.40 |
| Eve | $315,000 | 63.0% | $776.16 |
| **합계** | **$500,000** | **100.0%** | **$1,232.00** |

**수익 분배 코드:**
```solidity
function distributeYield(uint256 projectId) external {
    Project storage project = projects[projectId];
    require(project.completed, "Not completed");
    require(!project.yieldDistributed, "Already distributed");
    
    uint256 totalYield = project.repaidAmount - project.targetAmount;
    
    // 각 공급자에게 지분 비율대로 분배
    for (uint256 i = 0; i < project.supplierCount; i++) {
        address supplier = project.supplierList[i];
        uint256 share = project.supplierShares[supplier];
        uint256 yieldAmount = (totalYield * share) / 1e18;
        
        usdt.transfer(supplier, project.suppliers[supplier] + yieldAmount);
        emit YieldDistributed(projectId, supplier, yieldAmount);
    }
    
    project.yieldDistributed = true;
}
```

### 9. 청산 및 위험 관리

[026] **청산 트리거 조건:**

1. **선적 지연 60일 초과**
2. **담보 가치 110% 미만 하락**
3. **차입자 파산 공시**

**DAO 투표 기반 청산:**
```solidity
function proposeLiquidation(uint256 projectId, string memory reason) external {
    Project storage project = projects[projectId];
    require(!project.liquidated, "Already liquidated");
    
    LiquidationProposal memory proposal = LiquidationProposal({
        projectId: projectId,
        reason: reason,
        proposedAt: block.timestamp,
        votesFor: 0,
        votesAgainst: 0,
        executed: false
    });
    
    liquidationProposals[liquidationId++] = proposal;
    emit LiquidationProposed(liquidationId, projectId, reason);
}

function executeLiquidation(uint256 liquidationId) external {
    LiquidationProposal storage proposal = liquidationProposals[liquidationId];
    require(block.timestamp >= proposal.proposedAt + 3 days, "Voting period");
    
    uint256 totalVotes = proposal.votesFor + proposal.votesAgainst;
    uint256 approvalRate = (proposal.votesFor * 100) / totalVotes;
    
    require(approvalRate >= 67, "Need 67% approval");
    
    Project storage project = projects[proposal.projectId];
    
    // 담보 자산 매각 (B/L NFT + TRR Token)
    uint256 recoveredAmount = liquidateCollateral(project.collateralNFT);
    
    // 공급자에게 회수액 비례 분배
    distributeRecoveredFunds(proposal.projectId, recoveredAmount);
    
    project.liquidated = true;
    emit ProjectLiquidated(proposal.projectId, recoveredAmount);
}
```

---

## 【실시예】

### 실시예 1: AAA 등급 무역금융 + TRR-Pay 리워드 사용

[027] **배경:**  
Alice는 보수적 투자자로, 원금 보장을 선호한다. Alice는 AAA 등급 NFT 배지를 보유하고 있다.

**Step 1: 프로젝트 제안**  
삼성전자가 베트남으로 반도체 수출 프로젝트를 제안했다.
- 요청 금액: $500,000
- 기간: 30일
- 담보: L/C (한국수출입은행 발행) + TRR Token $100,000
- 위험 등급: AAA (DAO 투표로 결정)
- APY: 3%

**Step 2: Alice 자금 공급**  
Alice는 $10,000을 프로젝트에 공급했다.

```solidity
supplyToProject(projectId: 1, amount: 10000 * 1e6); // $10,000 USDT
```

**Step 3: 선적 완료 (25일 후)**  
삼성전자가 선적을 완료하고, B/L NFT가 온체인에 등록되었다.

**Step 4: 수입자 대금 지급 (30일 후)**  
베트남 수입자가 $503,750을 지급했다. ($500,000 원금 + $3,750 이자)

**Step 5: Alice 수익 수령**  
Alice의 지분: $10,000 / $500,000 = 2%  
Alice 수익: $3,750 × 2% = $75

```solidity
distributeYield(projectId: 1);
// Alice receives: $10,000 (원금) + $75 (이자) = $10,075
```

**Step 6: Alice가 복지몰에서 TRR-Pay 사용**

Alice는 무역금융 수익 $75를 BLXWT로 전환 (1.25개 = 1.25g 금)하여 복지몰에서 사용한다.

```solidity
// USDT → BLXWT 스왑
function swapUSDTtoBLXWT(uint256 usdtAmount) external {
    uint256 blxwtAmount = (usdtAmount * 1e18) / goldPriceUSD; // $60/g
    usdt.transferFrom(msg.sender, treasury, usdtAmount);
    blxwtToken.transfer(msg.sender, blxwtAmount);
}

// 복지몰 결제
payToMerchant(customer: Alice, merchant: WelfareMall, amount: 1.25 * 1e18);
```

**결과:**  
- Alice 무역금융 수익: 30일 만에 0.75% (연환산 9%)
- Alice TRR-Pay 사용: 복지몰에서 $75 상당 상품 구매
- 가맹점 수수료: $0.075 (0.1%) vs 기존 PG사 $1.875-$2.625 (2.5-3.5%)

### 실시예 2: TRR-Pay 리워드 자동 분배 (ESG)

[028] **배경:**  
Bob은 DAO 회원으로, 탄소배출권을 구매하고 거버넌스 투표에 참여했다.

**Step 1: ESG 활동 감지 (Chainlink Oracle)**
```solidity
// Oracle이 Bob의 활동 감지
function reportESGActivity(
    address participant,
    string memory activityType
) external onlyChainlinkOracle {
    emit ESGActivityDetected(participant, activityType);
    
    // 자동 리워드 지급 트리거
    distributeESGReward(participant, activityType);
}
```

**Step 2: DAO 자동 승인**
- 사전 설정된 규칙에 따라 DAO 투표 없이 자동 승인
- Bob의 활동: 탄소배출권 구매 ($1,000) + 거버넌스 투표 5회

**Step 3: 리워드 자동 지급**
```solidity
function distributeESGReward(address participant, string memory activityType) internal {
    uint256 rewardAmount = 50 * 1e18; // BLXWT 50개 ($3,000)
    blxwtToken.transfer(participant, rewardAmount);
    emit ESGRewardDistributed(participant, activityType, rewardAmount);
}
```

**Step 4: Bob이 리워드 사용**
- 옵션 1: 복지몰 ESG 상품 구매 (전기차 충전권 $2,000)
- 옵션 2: 스테이킹 (연 5% 추가 수익)
- 옵션 3: 가맹점 일반 결제

Bob은 전기차 충전권 $2,000을 구매하고, 나머지 $1,000은 스테이킹에 넣었다.

**결과:**
- Bob 리워드: BLXWT 50개 ($3,000)
- Bob 사용: 충전권 $2,000 + 스테이킹 $1,000
- 스테이킹 예상 수익: 연 5% = $50/년

### 실시예 3: CCC 등급 고위험 프로젝트 청산

[029] **배경:**  
Charlie는 고위험 투자자로, CCC 등급 NFT 배지를 보유하고 있다.

**Step 1: 고위험 프로젝트 제안**  
중소기업 X사가 아프리카 나이지리아로 의류 수출 프로젝트를 제안했다.
- 요청 금액: $200,000
- 기간: 180일
- 담보: 선적서류 B/L + TRR Token $50,000
- 위험 등급: CCC (DAO 투표로 결정)
- APY: 15%

**Step 2: Charlie 자금 공급**  
Charlie는 $100,000을 프로젝트에 공급했다.

**Step 3: 선적 지연 발생 (120일 경과)**  
X사가 생산 지연으로 선적을 하지 못했다.

**Step 4: DAO 청산 투표**  
Charlie를 포함한 공급자들이 청산을 제안했다.
- 찬성: 80%
- 반대: 20%
→ 청산 승인

**Step 5: 담보 매각**  
- B/L NFT: $0 (선적 안됨, 가치 없음)
- TRR Token: $50,000 (시가로 DEX에서 매각)

**Step 6: 회수액 분배**  
Charlie의 지분: $100,000 / $200,000 = 50%  
Charlie 회수액: $50,000 × 50% = $25,000

```solidity
distributeRecoveredFunds(projectId: 2);
// Charlie receives: $25,000 (손실 $75,000 = 75%)
```

**결과:**  
Charlie는 원금의 75%를 손실했다. 이는 CCC 등급의 고위험 특성을 반영한다.

**교훈:**  
CCC 등급은 APY 15%로 높은 수익을 제공하지만, 청산 시 큰 손실 가능. NFT 배지 시스템이 위험을 사전에 명확히 표시함.

### 실시예 4: TRR-Pay 국제 송금 (TRR-Remit)

[030] **배경:**  
David는 한국에서 필리핀 가족에게 매월 생활비를 송금한다.

**기존 방식 (SWIFT):**
- 송금액: $500
- 수수료: $25 (5%)
- 소요 시간: 3-5일
- 환율 마진: 추가 2% 손실
- 실제 수령액: $465

**TRR-Remit 방식:**

**Step 1: David가 TRR Wallet에서 송금**
```solidity
function internationalRemit(
    address sender,
    address receiver,
    uint256 amount,
    string memory country
) external {
    require(blxwtToken.balanceOf(sender) >= amount, "Insufficient balance");
    
    // KYC/AML 확인 (Labuan Bank)
    require(kycVerified[sender] && kycVerified[receiver], "KYC required");
    
    // 수수료 계산 (0.2%)
    uint256 fee = (amount * 2) / 1000; // $500 × 0.2% = $1
    uint256 netAmount = amount - fee;
    
    // 송금 실행
    blxwtToken.transferFrom(sender, receiver, netAmount);
    blxwtToken.transferFrom(sender, treasury, fee);
    
    emit RemittanceSent(sender, receiver, netAmount, country);
}
```

**Step 2: DMHB DLT 검증 (8초)**
- KYC/AML 자동 확인
- 자금세탁 위험도 평가
- 거래 승인

**Step 3: 수령자 지갑 입금 (필리핀)**
- 수령액: BLXWT 8.317개 ($499, 수수료 $1)
- 현지 환전: 필리핀 파트너 거래소에서 PHP로 즉시 환전 가능
- 또는: TRR-Pay 가맹점에서 직접 사용

**결과:**

| 항목 | 기존 SWIFT | TRR-Remit | 개선율 |
|------|-----------|-----------|--------|
| **수수료** | $25 (5%) | $1 (0.2%) | 96% 절감 |
| **소요 시간** | 3-5일 | <1시간 | 99% 단축 |
| **환율 마진** | 2% 추가 손실 | 시장가 (0% 손실) | 100% 개선 |
| **실수령액** | $465 | $499 | $34 더 많음 |

**연간 효과 (월 $500 × 12개월):**
- 기존 비용: $300 + $120(환율) = $420
- TRR-Remit 비용: $12
- **연간 절감: $408 (97% 절감)**

### 실시예 5: 글로벌 가맹점 네트워크 (한국→UAE→싱가포르)

[031] **배경:**  
Eve는 한국에서 출발하여 UAE와 싱가포르를 여행하며, 단일 TRR Wallet으로 모든 결제를 처리한다.

**여행 일정:**
- Day 1-3: 서울 (한국)
- Day 4-7: 두바이 (UAE)
- Day 8-10: 싱가포르

**Eve의 TRR Wallet 잔액:**
- BLXWT 100개 (100g 금 = $6,000)

**Day 1 (서울): 호텔 결제**
```solidity
// 서울 호텔: $200 (BLXWT 3.33개)
payToMerchant(customer: Eve, merchant: SeoulHotel, amount: 3.33 * 1e18);

// 호텔 선택: KRW 환전 (240,000원 수령)
settlementToMerchant(txId, currency: Currency.KRW);
```

**Day 5 (두바이): 가맹점 결제**
```solidity
// 두바이 레스토랑: $150 (BLXWT 2.5개)
payToMerchant(customer: Eve, merchant: DubaiRestaurant, amount: 2.5 * 1e18);

// 레스토랑 선택: AED 환전 (551 디르함 수령)
settlementToMerchant(txId, currency: Currency.AED);
```

**Day 9 (싱가포르): 쇼핑**
```solidity
// 싱가포르 백화점: $300 (BLXWT 5개)
payToMerchant(customer: Eve, merchant: SingaporeMall, amount: 5 * 1e18);

// 백화점 선택: SGD 환전 (404 싱가포르달러 수령)
settlementToMerchant(txId, currency: Currency.SGD);
```

**여행 종료 후 정산:**

| 항목 | 기존 방식 (신용카드) | TRR-Pay | 절감액 |
|------|---------------------|---------|--------|
| **서울 호텔** | $200 + $6(수수료) | $200 + $0.20 | $5.80 |
| **두바이 식당** | $150 + $4.5 | $150 + $0.15 | $4.35 |
| **싱가포르 쇼핑** | $300 + $9 | $300 + $0.30 | $8.70 |
| **환전 수수료** | $30 (각국 환전소) | $0 (실시간 환전) | $30.00 |
| **합계** | $699.50 | $650.65 | **$48.85 절감** |

**추가 혜택:**
- 환율: 실시간 시장가 적용 (환전소 마진 0%)
- 단일 지갑: 국가별 신용카드/현금 불필요
- 투명성: 모든 거래 블록체인 기록 (분쟁 시 증명 용이)

---

## 【청구항】

### 청구항 1 (독립항 - 통합 시스템)

[032] 블록체인 네트워크에 배포된 하나 이상의 스마트 컨트랙트로 구성되며, DAO(Decentralized Autonomous Organization) 거버넌스를 통해 무역금융 프로젝트별 유동성 풀을 자동 운영하고, B2C 소비자 결제 레이어를 통합하는 시스템에 있어서,

### A. 무역금융 레이어 (B2B Trade Finance Layer)

(a) 각 무역금융 프로젝트마다 독립된 유동성 풀을 생성하고, 각 풀에 차입자 정보, 요청 금액, 프로젝트 기간, 위험 등급, 담보 자산 정보를 온체인 데이터로 저장하는 프로젝트 풀 관리 모듈;

(b) 유동성 공급자에게 AAA, AA, A, BBB, CCC 중 하나의 위험 등급이 기록된 NFT(Non-Fungible Token) 배지를 발급하고, 각 등급별로 단일 프로젝트당 최대 공급 가능 금액, 예상 연 수익률(APY), 최소 자금 락업 기간을 설정하여 NFT 메타데이터로 저장하는 NFT 배지 발급 모듈;

(c) 신규 무역금융 프로젝트 제안이 제출되면, DAO 토큰 보유자들의 투표를 통해 프로젝트 승인 여부를 결정하고, 승인 시 해당 프로젝트에 AAA부터 CCC까지의 위험 등급을 할당하며, 투표 결과를 블록체인에 기록하는 DAO 투표 모듈;

(d) 유동성 공급자가 자신의 NFT 배지 등급에 해당하는 프로젝트에만 자금을 공급할 수 있도록 검증하고, 공급자가 선택한 프로젝트의 유동성 풀로 자금을 전송하며, 공급자의 지분 비율을 계산하여 온체인에 기록하는 자금 공급 검증 모듈;

(e) 각 프로젝트에 설정된 최소 락업 기간 동안 공급자가 자금을 출금할 수 없도록 스마트 컨트랙트로 제한하고, 락업 기간 만료 전 조기 출금 시 공급 금액의 3%를 패널티로 차감하여 DAO 금고로 전송하는 락업 관리 모듈;

(f) 무역금융 프로젝트가 완료되어 차입자가 원금과 이자를 상환하면, 각 공급자의 지분 비율에 따라 원금과 수익을 자동으로 분배하고, 분배 내역을 블록체인에 기록하는 수익 분배 모듈;

(g) 선적 지연 60일 초과, 담보 가치 110% 미만 하락, 차입자 파산 공시 중 하나가 발생하면 청산 제안을 생성하고, DAO 투표를 통해 청산 승인 시 담보 자산을 매각하여 회수 금액을 공급자에게 비례 분배하는 청산 관리 모듈;

### B. TRR-Pay 소비자 결제 레이어 (B2C Consumer Settlement Layer)

(h) 금 담보 Stablecoin(BLXWT, 1g = 1 token) 기반으로 실시간 잔액을 관리하는 TRR Wallet 모듈로서, 사용자가 BLXWT, TRR-Stable, TRR-X 잔액을 통합 조회하고, QR 코드·카드(Virtual/Physical)·지갑을 통해 가맹점에서 결제를 요청할 수 있도록 하며, 네이버페이·카카오페이 수준의 UX(간편 송금·QR 스캔)를 제공하는 모듈;

(i) Smart Contract가 조건 검증(잔액·KYC·AML) 후, 거래 금액에 따라 차등적 DAO Multi-sig 승인을 거쳐 ($100 이하 자동, $100-$10K 3-of-5, $10K 이상 5-of-7 + K-SURE 보험) 자동 정산하는 Settlement 모듈;

(j) TRR Settlement Node(Labuan Bank/DMHB DLT)가 거래를 실시간(<10초, 99th percentile) 처리하고, 가맹점 선택에 따라:
  • Option A: BLXWT 보유 (금 자산 유지)
  • Option B: 현지통화 자동 환전 (0.1% 수수료)
  • Option C: TRR-X 전환 (무역결제 재사용)
를 제공하는 Backend 모듈;

(k) DAO 결의에 따라 TRR-Pay Reward Pool에서 수혜자(복지 대상자·무역 인센티브·ESG 참여자)에게 BLXWT 또는 TRR-X를 자동 분배하는 Reward Integration 모듈로서, 거래 수수료의 20%, DAO 재무 배분(5% 복지 리밋), ESG 기부금을 재원으로 하는 모듈;

(l) 모든 거래·리워드·정산 기록을 On-chain 저장하여 EY 등 외부 감사인이 실시간 확인 가능하도록 하고, 관할별 규제 보고(ADGM FSRA, Labuan FSA, K-SURE)를 자동 생성하는 Audit Trail 모듈;

### C. 규제 준수 레이어 (Regulatory Compliance Layer)

(m) BLXWT를 "비환매형(non-redeemable), LBMA 금 담보 가상자산(commodity-linked virtual asset, not fiat-referenced token)"으로 정의하고, 모든 금 보유고가 LBMA 인증 정제소에서 독점 조달되어 ADGM Virtual Asset AML Guidance 2025 기준에 따라 완전한 AML/CFT 추적성이 보장됨을 온체인에 기록하는 Compliance Definition 모듈;

(n) BLX CORE(ADGM FSRA Category 3C - Managing Assets)가 금 보관(custody), BLXWT 발행, Proof of Reserve 증명만 담당하고, 실제 결제 실행은 Labuan Bank/DMHB DLT가 FSRA 관할 외부에서 수행하도록 법적 경계를 명확히 하며, BLX CORE와의 연결을 "Data Interface" 및 "Reserve Monitoring Framework"로만 정의하는 Jurisdictional Boundary 모듈;

(o) BLX CORE의 LBMA 인증 금 보관소와 연동하여 BLXWT의 100% 금 담보를 실시간 검증하는 Proof of Reserve 모듈로서, 불일치 발견 시 자동으로:
  • BLXWT 추가 발행 중단
  • DAO Emergency Multi-sig(7-of-9) 소집
  • 감독기관(FSRA) 자동 통보
하는 모듈;

을 포함하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 2 (종속항 - TRR-Pay 4가지 결제 모델)

[033] 청구항 1에 있어서,

상기 TRR Wallet 모듈은:

(a) **TRR-Pay (소액결제):** 개인·소상공인 대상, $1-$1K 한도, 0.1% 수수료, QR·지갑형;

(b) **TRR-Card (표준결제):** 일반 가맹점 대상, $1K-$10K 한도, 0.3% 수수료, Visa/Master API 연동 Virtual/Physical 카드;

(c) **BLXWT-Pay (프리미엄):** DAO 멤버·고액 사용자 대상, $10K-$1M 한도, 0.5% 수수료, 금담보 1:1 보장;

(d) **TRR-Remit (국제송금):** 해외 송금·무역 대상, $100-$100K 한도, 0.2% 수수료, <1시간 처리;

4가지 결제 모델을 단일 지갑에서 통합 제공하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 3 (종속항 - 리워드 자동 분배)

[034] 청구항 1에 있어서,

상기 Reward Integration 모듈은:

(a) **Welfare Benefits:** BLX REWARD 수혜자에게 DAO 결의 후 BLXWT/TRR-Stable 자동 지급, 복지몰·가맹점에서 즉시 사용 가능;

(b) **Trade Incentives:** 분기별 거래액 $100K 이상 달성 시 TRR-X 자동 지급(거래액의 0.5%), 다음 무역거래 결제 재사용 가능;

(c) **ESG Rewards:** Chainlink Oracle이 탄소배출권 구매·재생에너지 인증·거버넌스 투표 등 ESG 활동 감지 시, 사전 설정된 규칙에 따라 DAO 투표 없이 BLXWT 자동 지급;

3가지 리워드 유형을 DAO Multi-sig(5-of-7) 승인 → Smart Contract 자동 실행 → 수혜자 지갑 실시간 입금 프로세스로 처리하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 4 (종속항 - FSRA 규제 준수 언어)

[035] 청구항 1에 있어서,

상기 Jurisdictional Boundary 모듈은:

(a) BLX CORE(ADGM FSRA 3C)의 허용 활동을 "Managing Assets (금 보관)", "Custody (BLXWT 발행)", "Reserve Monitoring (Proof of Reserve)"로만 제한하고, "Payment Services", "Settlement Execution", "Money Transmission"은 명시적으로 금지;

(b) TRR-Pay의 실제 결제 실행은 Labuan Bank(Labuan FSA 규제)가 수행하며, BLX CORE와의 관계를 "Data Interface" 및 "Operational Integration beyond FSRA jurisdiction"으로만 정의;

(c) BLXWT를 "Non-redeemable, LBMA gold-backed virtual asset (commodity-linked, not fiat-referenced)"로 명시하여 FSRA Category 3C 'Managing Assets' 범위에 해당하고 Payment Services 범위에 해당하지 않음을 온체인에 기록;

(d) 모든 금 보유고가 "LBMA-accredited refineries"에서 독점 조달되어 "ADGM Virtual Asset AML Guidance 2025" 기준에 따라 완전한 AML/CFT 추적성이 보장됨을 매 거래마다 검증;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 5 (종속항 - NFT 배지 파라미터)

[036] 청구항 1에 있어서,

상기 NFT 배지 발급 모듈은:

(a) AAA 등급: 단일 프로젝트당 최대 $10,000 공급, 예상 APY 3%, 최소 락업 30일, AAA 등급 프로젝트만 투자 가능;

(b) AA 등급: 단일 프로젝트당 최대 $25,000 공급, 예상 APY 5%, 최소 락업 60일, AAA 및 AA 등급 프로젝트 투자 가능;

(c) A 등급: 단일 프로젝트당 최대 $50,000 공급, 예상 APY 7%, 최소 락업 90일, AAA, AA, A 등급 프로젝트 투자 가능;

(d) BBB 등급: 단일 프로젝트당 최대 $100,000 공급, 예상 APY 10%, 최소 락업 120일, AAA부터 BBB 등급 프로젝트 투자 가능;

(e) CCC 등급: 단일 프로젝트당 최대 $500,000 공급, 예상 APY 15%, 최소 락업 180일, 모든 등급 프로젝트 투자 가능;

으로 설정하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 6 (종속항 - 프로젝트 승인 조건)

[037] 청구항 1에 있어서,

상기 DAO 투표 모듈은:

(a) 프로젝트 제안자가 KYC(Know Your Customer) 인증을 완료했는지 검증;

(b) 담보 자산 가치가 요청 금액의 120% 이상인지 검증;

(c) 7일간의 투표 기간 동안 DAO 토큰 보유자들이 찬성 또는 반대 투표를 하며, 각 투표자의 투표력은 보유 토큰 수량에 비례;

(d) 투표 종료 후 찬성 비율이 67% 이상이면 프로젝트를 승인하고, 67% 미만이면 거부;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 7 (종속항 - 선적서류 NFT 담보)

[038] 청구항 1에 있어서,

상기 프로젝트 풀 관리 모듈은:

(a) 선하증권(B/L, Bill of Lading) 또는 신용장(L/C, Letter of Credit)을 NFT로 토큰화하여 담보로 등록;

(b) 선사(Shipping Company) 또는 은행이 Chainlink 오라클을 통해 선적 완료, 도착 확인 정보를 온체인으로 전송;

(c) 선적서류 NFT의 상태(발급, 선적, 도착)를 실시간으로 업데이트하고, 도착 완료 시 NFT를 소각;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 8 (종속항 - 조기 출금 패널티)

[039] 청구항 1에 있어서,

상기 락업 관리 모듈은:

(a) 공급자가 최소 락업 기간 만료 전에 출금을 요청하면, 공급 금액의 3%를 패널티로 계산;

(b) 패널티를 차감한 나머지 금액을 공급자에게 전송;

(c) 패널티 금액을 DAO 금고 주소로 전송하여, 향후 DAO 운영비로 사용;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 9 (종속항 - 수익 분배 알고리즘)

[040] 청구항 1에 있어서,

상기 수익 분배 모듈은:

(a) 프로젝트 완료 시 차입자가 상환한 총 금액에서 공급자들이 제공한 원금을 차감하여 총 수익 금액을 계산;

(b) 각 공급자의 지분 비율 = (공급자가 제공한 금액) / (프로젝트 총 공급 금액)을 계산;

(c) 각 공급자에게 (총 수익 금액 × 지분 비율)을 원금과 함께 전송;

하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 10 (종속항 - 청산 조건)

[041] 청구항 1에 있어서,

상기 청산 관리 모듈은:

(a) 프로젝트 시작 후 60일이 경과했으나 선적이 완료되지 않은 경우;

(b) 담보 자산의 시가 총액이 프로젝트 요청 금액의 110% 미만으로 하락한 경우;

(c) 차입자가 파산 공시를 한 경우;

중 하나가 발생하면 청산 제안을 자동 생성하고, DAO 투표를 통해 67% 이상 찬성 시 청산을 실행하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 11 (종속항 - 담보 매각 우선순위)

[042] 청구항 10에 있어서,

상기 청산 관리 모듈은 청산 실행 시:

(a) 1순위: 선적서류 NFT(B/L, L/C)를 2차 시장에서 매각;

(b) 2순위: TRR 토큰을 DEX(Decentralized Exchange)에서 매각;

(c) 3순위: 차입자의 기타 담보 자산(부동산, 재고) 오프체인 매각;

순서로 담보를 매각하고, 총 회수 금액을 공급자에게 지분 비율대로 분배하는 것을 특징으로 하는 DAO 거버넌스 기반 무역금융 풀 자동 운영 및 TRR-Pay 소비자 결제 통합 시스템.

### 청구항 12 (종속항 - NFT 배지 업그레이드)

[043] 청구항 1에 있어서,

상